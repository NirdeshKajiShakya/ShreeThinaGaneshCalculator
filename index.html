<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Live gold and silver price tracker for Nepal with calculator supporting Tola, Gram, and other units">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Gold & Silver Tracker">
    <title>Nepal Gold & Silver Price Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü™ô Nepal Gold & Silver Price Tracker</h1>
            <p class="subtitle">Real-time precious metals price tracking and calculator</p>
        </header>

        <div class="main-content">
            <!-- Metal Selector -->
            <section class="metal-selector">
                <h2>Select Metal</h2>
                <div class="toggle-buttons">
                    <button id="goldBtn" class="toggle-btn active">
                        <span class="icon">‚ú®</span>
                        <span class="label">Gold (‡§∏‡•Å‡§®)</span>
                    </button>
                    <button id="silverBtn" class="toggle-btn">
                        <span class="icon">ü™ô</span>
                        <span class="label">Silver (‡§ö‡§æ‡§Å‡§¶‡•Ä)</span>
                    </button>
                </div>
            </section>

            <!-- Current Price Display -->
            <section class="price-display">
                <h2><span id="metalName">Gold</span> Price</h2>
                <div class="price-card">
                    <div class="price-item">
                        <span class="label">Per Gram:</span>
                        <span class="price" id="pricePerGram">NPR 0.00</span>
                    </div>
                    <div class="price-item">
                        <span class="label">Per Tola:</span>
                        <span class="price" id="pricePerTola">NPR 0.00</span>
                    </div>
                    <div class="price-item">
                        <span class="label">Per Ounce:</span>
                        <span class="price" id="pricePerOunce">NPR 0.00</span>
                    </div>
                    <div class="price-item">
                        <span class="label">Per Kilogram:</span>
                        <span class="price" id="pricePerKg">NPR 0.00</span>
                    </div>
                </div>
                <div class="last-updated">
                    Last updated: <span id="lastUpdated">Never</span>
                </div>
                <button id="refreshBtn" class="btn-primary">üîÑ Refresh Prices</button>
            </section>

            <!-- Calculator Section -->
            <section class="calculator">
                <h2><span id="calculatorMetalName">Gold</span> Price Calculator</h2>
                <div class="calculator-card">
                    <div class="input-group">
                        <label for="weightInput">Enter Weight:</label>
                        <input type="number" id="weightInput" placeholder="0" step="0.01" min="0">
                    </div>
                    
                    <div class="input-group">
                        <label for="unitSelect">Select Unit:</label>
                        <select id="unitSelect">
                            <option value="gram">Gram (g)</option>
                            <option value="tola" selected>Tola (‡§§)</option>
                            <option value="ounce">Ounce (oz)</option>
                            <option value="kilogram">Kilogram (kg)</option>
                            <option value="pound">Pound (lb)</option>
                            <option value="ana">Ana (‡§Ü‡§®‡§æ)</option>
                            <option value="lal">Lal (‡§≤‡§æ‡§≤)</option>
                            <option value="ratti">Ratti (‡§∞‡§§‡•ç‡§§‡•Ä)</option>
                        </select>
                    </div>

                    <button id="calculateBtn" class="btn-calculate">Calculate Price</button>

                    <div class="result" id="result">
                        <div class="result-header">Total Price</div>
                        <div class="result-value" id="resultValue">NPR 0.00</div>
                        <div class="result-breakdown" id="resultBreakdown"></div>
                    </div>
                </div>
            </section>

            <!-- Price History Chart -->
            <section class="price-history">
                <h2>Price History (Today)</h2>
                <div class="chart-container">
                    <canvas id="priceChart"></canvas>
                </div>
            </section>

            <!-- Purity Selector (Gold Only) -->
            <section class="purity-selector" id="puritySection" style="display: none;">
                <h2>Gold Purity</h2>
                <div class="purity-buttons">
                    <button class="purity-btn active" data-purity="24">24K (Fine Gold)</button>
                    <button class="purity-btn" data-purity="22">22K (Hallmark)</button>
                    <button class="purity-btn" data-purity="21">21K</button>
                    <button class="purity-btn" data-purity="18">18K</button>
                </div>
            </section>

            <!-- Manual Price Update (for demo purposes) -->
            <section class="manual-update">
                <h2>‚öôÔ∏è Manual Price Update (Admin)</h2>
                <div class="manual-update-card">
                    <div class="input-group">
                        <label for="metalSelect">Select Metal:</label>
                        <select id="metalSelect">
                            <option value="gold">Gold (24K)</option>
                            <option value="silver">Silver</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="manualPriceInput">Base Price (NPR per gram):</label>
                        <input type="number" id="manualPriceInput" placeholder="Enter price" step="0.01" min="0">
                    </div>
                    <button id="updatePriceBtn" class="btn-secondary">Update Base Price</button>
                    <p class="info-text">üí° Note: In production, prices would be fetched from a live API</p>
                </div>
            </section>
        </div>

        <footer>
            <p>¬© 2025 Shree Thina Ganesh Calculator | Gold & Silver Price Tracker</p>
            <p class="disclaimer">Prices are for reference only. Please verify with local dealers.</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
